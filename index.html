<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Simple Proxy Frontend</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>body{font-family:sans-serif;padding:20px}input{width:60%}</style>
</head>
<body>
  <h1>Proxy frontend</h1>
  <p>Enter a URL to open through the proxy:</p>
  <input id="url" placeholder="https://example.com" />
  <button id="go">Go</button>
  <div id="frame" style="margin-top:16px"></div>

<script>
const workerEndpoint = "https://empty-cake-774e.mediumchimp9092.workers.dev/fetch?url=";
document.getElementById("go").addEventListener("click", async () => {
  const u = document.getElementById("url").value.trim();
  if (!u) return alert("Enter a URL");
  // Basic validation
  try { new URL(u) } catch(e) { return alert("Invalid URL") }

  // Option A: Open proxied page in an iframe
  // The worker must allow embedding (X-Frame-Options removal)
  // document.getElementById("frame").innerHTML = `<iframe src="${workerEndpoint + encodeURIComponent(u)}" style="width:100%;height:70vh;border:1px solid #ccc"></iframe>`

  // Option B: Fetch HTML and render into your page (less isolated):
  const r = await fetch(workerEndpoint + encodeURIComponent(u));
  const html = await r.text();
  document.getElementById("frame").innerHTML = html;
})
</script>
</body>
</html>
